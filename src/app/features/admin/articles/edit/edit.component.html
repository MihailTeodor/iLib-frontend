<mat-card class="edit-article-form">
  <h2>Edit Article</h2>
  <form [formGroup]="editArticleForm" (ngSubmit)="onSubmit()">
    <mat-form-field appearance="fill">
      <mat-label>Type</mat-label>
      <input matInput formControlName="type" type="text" readonly />
    </mat-form-field>
    <mat-form-field appearance="fill">
      <mat-label>Title</mat-label>
      <input matInput formControlName="title" type="text" />
      <mat-error *ngIf="editArticleForm.get('title')?.invalid && editArticleForm.get('title')?.touched">
        Title is required.
      </mat-error>
    </mat-form-field>
    <ng-container *ngIf="showBookFields()">
      <mat-form-field appearance="fill">
        <mat-label>Author</mat-label>
        <input matInput formControlName="author" type="text" />
      </mat-form-field>
      <mat-form-field appearance="fill">
        <mat-label>ISBN</mat-label>
        <input matInput formControlName="isbn" type="text" />
      </mat-form-field>
    </ng-container>

    <ng-container *ngIf="showMagazineFields()">
      <mat-form-field appearance="fill">
        <mat-label>Issue Number</mat-label>
        <input matInput formControlName="issueNumber" type="number" />
      </mat-form-field>
      <mat-form-field appearance="fill">
        <mat-label>ISSN</mat-label>
        <input matInput formControlName="issn" type="text" />
      </mat-form-field>
    </ng-container>
    <ng-container *ngIf="showMovieDvdFields()">
      <mat-form-field appearance="fill">
        <mat-label>Director</mat-label>
        <input matInput formControlName="director" type="text" />
      </mat-form-field>
      <mat-form-field appearance="fill">
        <mat-label>ISAN</mat-label>
        <input matInput formControlName="isan" type="text" />
      </mat-form-field>
    </ng-container>
    <mat-form-field appearance="fill">
      <mat-label>Location</mat-label>
      <input matInput formControlName="location" type="text" />
      <mat-error *ngIf="editArticleForm.get('location')?.invalid && editArticleForm.get('location')?.touched">
        Location is required.
      </mat-error>
    </mat-form-field>
    <mat-form-field appearance="fill">
      <mat-label>Year of Edition</mat-label>
      <input matInput formControlName="yearEdition" [matDatepicker]="picker" />
      <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
      <mat-datepicker #picker startView="multi-year" [startAt]="startYear"></mat-datepicker>
      <mat-error *ngIf="editArticleForm.get('yearEdition')?.invalid && editArticleForm.get('yearEdition')?.touched">
        Year of Edition is required and cannot be in the future.
      </mat-error>
    </mat-form-field>
    <mat-form-field appearance="fill">
      <mat-label>Publisher</mat-label>
      <input matInput formControlName="publisher" type="text" />
      <mat-error *ngIf="editArticleForm.get('publisher')?.invalid && editArticleForm.get('publisher')?.touched">
        Publisher is required.
      </mat-error>
    </mat-form-field>
    <mat-form-field appearance="fill">
      <mat-label>Genre</mat-label>
      <input matInput formControlName="genre" type="text" />
      <mat-error *ngIf="editArticleForm.get('genre')?.invalid && editArticleForm.get('genre')?.touched">
        Genre is required.
      </mat-error>
    </mat-form-field>
    <mat-form-field appearance="fill">
      <mat-label>State</mat-label>
      <mat-select formControlName="state">
        <mat-option *ngFor="let state of articleStates" [value]="state">{{ state }}</mat-option>
      </mat-select>
    </mat-form-field>
    <mat-form-field appearance="fill">
      <mat-label>Description</mat-label>
      <textarea matInput formControlName="description"></textarea>
    </mat-form-field>
    <button mat-raised-button color="primary" type="submit" [disabled]="editArticleForm.invalid">
      <mat-icon>save</mat-icon>
      Update Article
    </button>
    <button mat-button type="button" (click)="goBack()">
      <mat-icon>arrow_back</mat-icon>
      Back
    </button>
  </form>
</mat-card>
