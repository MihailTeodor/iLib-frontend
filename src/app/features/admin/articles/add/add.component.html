<div class="add-article-form">
  <h2>Add New Article</h2>

  <!-- Legend for required fields -->
  <p class="required-legend">Fields marked with <span class="required">*</span> are mandatory.</p>

  <form [formGroup]="addArticleForm" (ngSubmit)="onSubmit()">

    <!-- Article Type Selection -->
    <label for="type">Type: <span class="required">*</span></label>
    <select id="type" formControlName="type" (change)="onTypeChange()">
      <option *ngFor="let type of articleTypes" [value]="type">{{ type }}</option>
    </select>
    <div *ngIf="addArticleForm.get('type')?.invalid && addArticleForm.get('type')?.touched" class="error">
      Type is required.
    </div>

    <label for="title">Title: <span class="required">*</span></label>
    <input id="title" formControlName="title" type="text" />
    <div *ngIf="addArticleForm.get('title')?.invalid && addArticleForm.get('title')?.touched" class="error">
      Title is required.
    </div>

    <!-- Conditional Fields Based on Type -->
    <div *ngIf="showBookFields()">
      <label for="author">Author: <span class="required">*</span></label>
      <input id="author" formControlName="author" type="text" />
      <div *ngIf="addArticleForm.get('author')?.invalid && addArticleForm.get('author')?.touched" class="error">
        Author is required.
      </div>

      <label for="isbn">ISBN: <span class="required">*</span></label>
      <input id="isbn" formControlName="isbn" type="text" />
      <div *ngIf="addArticleForm.get('isbn')?.invalid && addArticleForm.get('isbn')?.touched" class="error">
        ISBN is required.
      </div>
    </div>

    <div *ngIf="showMagazineFields()">
      <label for="issueNumber">Issue Number: <span class="required">*</span></label>
      <input id="issueNumber" formControlName="issueNumber" type="number" />
      <div *ngIf="addArticleForm.get('issueNumber')?.invalid && addArticleForm.get('issueNumber')?.touched" class="error">
        Issue number is required.
      </div>

      <label for="issn">ISSN: <span class="required">*</span></label>
      <input id="issn" formControlName="issn" type="text" />
      <div *ngIf="addArticleForm.get('issn')?.invalid && addArticleForm.get('issn')?.touched" class="error">
        ISSN is required.
      </div>
    </div>

    <div *ngIf="showMovieDvdFields()">
      <label for="director">Director: <span class="required">*</span></label>
      <input id="director" formControlName="director" type="text" />
      <div *ngIf="addArticleForm.get('director')?.invalid && addArticleForm.get('director')?.touched" class="error">
        Director is required.
      </div>

      <label for="isan">ISAN: <span class="required">*</span></label>
      <input id="isan" formControlName="isan" type="text" />
      <div *ngIf="addArticleForm.get('isan')?.invalid && addArticleForm.get('isan')?.touched" class="error">
        ISAN is required.
      </div>
    </div>

    <!-- Common Fields -->
    <label for="location">Location: <span class="required">*</span></label>
    <input id="location" formControlName="location" type="text" />
    <div *ngIf="addArticleForm.get('location')?.invalid && addArticleForm.get('location')?.touched" class="error">
      Location is required.
    </div>

    <label for="yearEdition">Year of Edition: <span class="required">*</span></label>
    <input id="yearEdition" formControlName="yearEdition" type="date" />
    <div *ngIf="addArticleForm.get('yearEdition')?.invalid && addArticleForm.get('yearEdition')?.touched" class="error">
      Year of Edition is required and cannot be in the future.
    </div>

    <label for="publisher">Publisher: <span class="required">*</span></label>
    <input id="publisher" formControlName="publisher" type="text" />
    <div *ngIf="addArticleForm.get('publisher')?.invalid && addArticleForm.get('publisher')?.touched" class="error">
      Publisher is required.
    </div>

    <label for="genre">Genre: <span class="required">*</span></label>
    <input id="genre" formControlName="genre" type="text" />
    <div *ngIf="addArticleForm.get('genre')?.invalid && addArticleForm.get('genre')?.touched" class="error">
      Genre is required.
    </div>

    <label for="description">Description:</label>
    <textarea id="description" formControlName="description"></textarea>

    <!-- Submit Button -->
    <button type="submit" [disabled]="addArticleForm.invalid">Add Article</button>
  </form>
</div>
